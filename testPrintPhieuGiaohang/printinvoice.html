<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>In nhi·ªÅu phi·∫øu giao h√†ng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    @media print {
      .no-print {
        display: none;
      }
      .invoice-box {
        page-break-after: always;
      }
    }

    .invoice-box {
      border: 1px solid #ddd;
      padding: 20px;
      margin-bottom: 40px;
      background-color: #fff;
    }
  </style>
</head>
<body class="bg-light">
  <div class="container my-4">
    <div class="text-end mb-3 no-print">
      <button class="btn btn-success" onclick="window.print()">üñ® In t·∫•t c·∫£ phi·∫øu</button>
    </div>

    <div id="invoices"></div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    const fakeOrders = [
      {
        orderId: 'DH001',
        createdAt: '2025-03-17',
        customer: { name: 'Nguy·ªÖn VƒÉn A', phone: '0901234567', address: 'H√† N·ªôi' },
        products: [
          { name: 'G·∫°ch ·ªëng', quantity: 100, price: 3000 },
          { name: 'Xi mƒÉng', quantity: 5, price: 75000 }
        ]
      },
      {
        orderId: 'DH002',
        createdAt: '2025-03-16',
        customer: { name: 'Tr·∫ßn Th·ªã B', phone: '0907654321', address: 'TP.HCM' },
        products: [
          { name: 'C√°t x√¢y', quantity: 10, price: 200000 },
          { name: 'ƒê√° 1x2', quantity: 8, price: 180000 }
        ]
      }
    ];

    $(function () {
      fakeOrders.forEach((order, index) => {
        let rows = '';
        let total = 0;

        order.products.forEach((p, i) => {
          const sub = p.quantity * p.price;
          total += sub;
          rows += `
            <tr>
              <td>${i + 1}</td>
              <td>${p.name}</td>
              <td>${p.quantity}</td>
              <td>${p.price.toLocaleString()}ƒë</td>
              <td>${sub.toLocaleString()}ƒë</td>
            </tr>
          `;
        });

        const today = new Date().toLocaleDateString('vi-VN');

        $('#invoices').append(`
          <div class="invoice-box">
            <h4 class="text-center">PHI·∫æU GIAO H√ÄNG</h4>
            <p><strong>M√£ ƒë∆°n h√†ng:</strong> ${order.orderId}</p>
            <p><strong>Ng√†y t·∫°o:</strong> ${order.createdAt}</p>
            <p><strong>Kh√°ch h√†ng:</strong> ${order.customer.name}</p>
            <p><strong>ƒêi·ªán tho·∫°i:</strong> ${order.customer.phone}</p>
            <p><strong>ƒê·ªãa ch·ªâ:</strong> ${order.customer.address}</p>
            <table class="table table-bordered mt-3">
              <thead>
                <tr>
                  <th>#</th>
                  <th>S·∫£n ph·∫©m</th>
                  <th>S·ªë l∆∞·ª£ng</th>
                  <th>ƒê∆°n gi√°</th>
                  <th>Th√†nh ti·ªÅn</th>
                </tr>
              </thead>
              <tbody>${rows}</tbody>
              <tfoot>
                <tr>
                  <th colspan="4" class="text-end">T·ªïng c·ªông:</th>
                  <th>${total.toLocaleString()}ƒë</th>
                </tr>
              </tfoot>
            </table>
            <p class="text-end"><strong>Ng√†y in:</strong> ${today}</p>
          </div>
        `);
      });
    });
  </script>
</body>
</html>
